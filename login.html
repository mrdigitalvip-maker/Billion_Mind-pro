<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Login • BillionMind</title>

<style>
  :root {
    --bg: #020206;
    --card: #0b0d14;
    --gold: #f4c86c;
    --soft-gold: rgba(244, 200, 108, 0.25);
    --text: #ffffff;
    --text-soft: #bfc0d4;
    --radius: 18px;
    --shadow: 0 18px 40px rgba(0, 0, 0, 0.8);
  }

  body {
    margin: 0;
    background: radial-gradient(circle at top, rgba(244, 200, 108, 0.12), transparent 70%), var(--bg);
    font-family: system-ui, -apple-system, BlinkMacSystemFont, Segoe UI, sans-serif;
    color: var(--text);
    min-height: 100vh;
    display: flex;
    align-items: center;
    justify-content: center;
  }

  .card {
    width: 100%;
    max-width: 420px;
    background: var(--card);
    padding: 32px 26px;
    border-radius: var(--radius);
    border: 1px solid var(--soft-gold);
    box-shadow: var(--shadow);
    animation: fadeIn 0.6s ease;
  }

  .title {
    font-size: 1.8rem;
    text-align: center;
    margin-bottom: 12px;
    font-weight: 700;
    letter-spacing: 1px;
  }

  .title span {
    color: var(--gold);
  }

  .sub {
    font-size: 0.9rem;
    color: var(--text-soft);
    text-align: center;
    margin-bottom: 22px;
  }

  label {
    font-size: 0.85rem;
    margin-bottom: 6px;
    display: block;
    color: var(--text-soft);
  }

  input {
    width: 100%;
    padding: 12px;
    border-radius: var(--radius);
    border: 1px solid rgba(255,255,255,0.08);
    background: #0e0f1a;
    color: var(--text);
    margin-bottom: 14px;
    font-size: 0.95rem;
  }

  button {
    width: 100%;
    padding: 14px;
    border-radius: 999px;
    border: none;
    font-size: 1rem;
    cursor: pointer;
    background: linear-gradient(120deg, var(--gold), #e1a93f);
    color: #000;
    font-weight: 700;
    box-shadow: 0 12px 26px rgba(0,0,0,0.8);
    transition: transform 0.15s ease;
  }

  button:hover {
    transform: translateY(-2px);
  }

  .links {
    margin-top: 18px;
    text-align: center;
    font-size: 0.9rem;
  }

  .links a {
    color: var(--gold);
    text-decoration: none;
  }

  .error {
    background: rgba(255, 60, 60, 0.12);
    border: 1px solid rgba(255, 60, 60, 0.4);
    padding: 10px;
    border-radius: 10px;
    font-size: 0.85rem;
    color: #ff6b6b;
    margin-bottom: 14px;
    display: none;
    text-align: center;
  }

  @keyframes fadeIn {
    from { opacity: 0; transform: translateY(10px); }
    to { opacity: 1; transform: translateY(0); }
  }
</style>
</head>

<body>

<div class="card">
  <div class="title">Bem-vindo ao <span>BillionMind</span></div>
  <div class="sub">Acesso seguro · Evolução real</div>

  <div class="error" id="errorBox"></div>

  <label for="email">E-mail</label>
  <input id="email" type="email" placeholder="Digite seu e-mail">

  <label for="password">Senha</label>
  <input id="password" type="password" placeholder="Sua senha">

  <button onclick="login()">Entrar</button>

  <div class="links">
    <p><a href="reset.html">Esqueci minha senha</a></p>
    <p>Não tem conta? <a href="signup.html">Criar conta</a></p>
  </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>

<script>
  const supabase = supabase.createClient(
    "https://lppjltjoxczooxsbtlyr.supabase.co",
    "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImxwcGpsdGpveGN6b294c2J0bHlyIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjUwNDY4MTUsImV4cCI6MjA4MDYyMjgxNX0.AK0i5gbTk12z6dgIrNYkFoi6LQMFocSxbi9lka-GZrc"
  );

  async function login() {
    const email = document.getElementById("email").value.trim();
    const password = document.getElementById("password").value.trim();
    const errorBox = document.getElementById("errorBox");

    errorBox.style.display = "none";

    if (!email || !password) {
      showError("Preencha todos os campos.");
      return;
    }

    const { data, error } = await supabase.auth.signInWithPassword({
      email,
      password
    });

    if (error) {
      showError("E-mail ou senha incorretos.");
      return;
    }

    window.location.href = "app.html";
  }

  function showError(msg) {
    const errorBox = document.getElementById("errorBox");
    errorBox.innerText = msg;
    errorBox.style.display = "block";
  }

  // Se já estiver logado → vai direto para o app
  supabase.auth.getSession().then(({ data }) => {
    if (data.session) {
      window.location.href = "app.html";
    }
  });
</script>

</body>
</html>
